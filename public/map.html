<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <title>35 Most Amazing National Parks on Earth</title>
    <link
      href="https://playground.anychart.com/JcidKZUf/iframe"
      rel="canonical"
    />
    <meta
      content="AJAX Chart,Chart from JSON,Dot Chart,Dot Map,Geo Chart,Geo Visualization,JSON Chart,JSON Plot,Marker Chart,Point Map,Statistical Data,Tooltip"
      name="keywords"
    />
    <meta
      content="AnyChart - JavaScript Charts designed to be embedded and integrated"
      name="description"
    />
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link
      href="https://cdn.anychart.com/playground-css/anychart-loader.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://cdn.anychart.com/releases/v8/css/anychart-ui.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://cdn.anychart.com/releases/v8/fonts/css/anychart-font.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <style>
      html,
      body,
      #container {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="container"></div>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-base.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-ui.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-exports.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-map.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-data-adapter.min.js"></script>
    <script src="https://cdn.anychart.com/geodata/latest/custom/world/world.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.15/proj4.js"></script>
    <script type="text/javascript">
      anychart.onDocumentReady(function () {
        var stage = acgraph.create("container");

        // The data used in this sample can be obtained from the CDN
        // https://cdn.anychart.com/samples/maps-point-maps-dot-maps/35-most-amazing-national-parks-on-earth/data.json
        anychart.data.loadJsonFile(
          "https://cdn.anychart.com/samples/maps-point-maps-dot-maps/35-most-amazing-national-parks-on-earth/data.json",
          function (data) {
            var imageLink =
              "https://static.anychart.com/images/parks_of_the_world/";
            var beachesData = data;

            var preloader = anychart.ui.preloader();
            preloader.render(document.getElementById("container"));
            // Set visible preloader
            preloader.visible(true);

            var images = [];
            for (var i = 0; i < beachesData.length; i++) {
              images.push(imageLink + beachesData[i].number + ".jpg");
            }
            preload(images, function () {
              preloader.visible(false);

              // creates map chart and sets setting for map
              var map = anychart.map();
              map.scale().gap(0.05);
              map.padding(0);

              map
                .unboundRegions()
                .enabled(true)
                .fill("#E1E1E1")
                .stroke("#D2D2D2");

              // credits for data for this sample
              map
                .credits()
                .enabled(true)
                .url(
                  "http://www.huffingtonpost.com/minube/the-35-most-amazing-natio_b_5439362.html"
                )
                .logoSrc(
                  "https://s.m.huffpost.com/assets/favicon-7dbb4d55ca85abd9f84197a1c3525e38.ico"
                )
                .text(
                  "Data source: http://www.huffingtonpost.com/minube/the-35-most-amazing-natio_b_5439362.html"
                );

              // sets geodata using https://cdn.anychart.com/geodata/latest/custom/world/world.js
              map.geoData("anychart.maps.world");

              // sets Chart Title
              map
                .title()
                .enabled(true)
                .useHtml(true)
                .padding([10, 0, 20, 0])
                .text(
                  "35 Most Amazing National Parks on Earth<br/>" +
                    '<span style="color:#212121; font-size:12px">According to Huffingtonpost.com</span>'
                );

              // creates marker series
              var series = map.marker(anychart.data.set(beachesData));
              series
                .stroke("2 #212121")
                .fill(function () {
                  if (this.index >= 0) {
                    return {
                      src: imageLink + beachesData[this.index].number + ".jpg",
                    };
                  }
                })
                .size(15)
                .type("square")
                .selectionMode("none")
                .labels(false)
                .tooltip(false);

              series
                .hovered()
                .stroke("2 #212121")
                .fill(function () {
                  if (this.index >= 0) {
                    return {
                      src: imageLink + beachesData[this.index].number + ".jpg",
                    };
                  }
                })
                .size(50)
                .type("square");

              series
                .hovered()
                .labels()
                .enabled(true)
                .width(310)
                .position("right")
                .anchor("left-top")
                .offsetX(50)
                .offsetY(-51)
                .padding(15)
                .useHtml(true)
                .fontWeight("normal")
                .format(function () {
                  return (
                    '<span style="font-size: 14px; color: #929292">#' +
                    this.getData("number") +
                    ". " +
                    this.getData("name") +
                    "</span><br/><br/>" +
                    '<span style="font-size: 11px; color: #212121">' +
                    this.getData("description") +
                    "</span>"
                  );
                });

              series
                .hovered()
                .labels()
                .background()
                .enabled(true)
                .fill("#fff")
                .stroke("2 #212121")
                .corners(0)
                .cornerType("ROUND");

              // create zoom controls
              var zoomController = anychart.ui.zoom();
              zoomController.render(map);

              // sets container id for the chart
              map.container(stage);

              // initiates chart drawing
              map.draw();
            });
          }
        );
      });

      function preload(pictureUrls, callback) {
        var loaded = 0;
        for (var i = 0; i < pictureUrls.length; i++) {
          var img = new Image();
          var src = pictureUrls[i];
          img.onload =
            ++loaded === pictureUrls.length && callback ? callback : false;
          img.src = src;
        }
      }
    </script>
  </body>
</html>
